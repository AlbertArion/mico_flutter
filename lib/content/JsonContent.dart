import 'dart:convert';

const FIRST_PAGE_JSON =
    '[{"id":"17847289","userId":1200057564,"type":4,"from":"","byFollower":-1,"deviceType":"PC端","title":"MIUI 第439周发布公告及更新日志","pic":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574995935543?f\u003dwebp","picList":[{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574995935543?f\u003dwebp","height":0,"width":0}],"cover":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574995935543?f\u003dwebp","isRichText":false,"likeCnt":1292,"dislikeCnt":0,"commentCnt":1563,"viewCount":102265,"isGood":0,"isTop":0,"isSticky":1,"like":0,"dislike":0,"topics":[{"topicId":"5429156","topicName":"这周MIUI更新了啥","banner":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1563507452133?f\u003dwebp","hotValue":0,"viewCnt":0,"status":0,"announceCnt":7053,"source":0,"isHot":0,"isTop":0,"createTime":0,"updateTime":0}],"boards":[{"boardId":"5433318","boardName":"开发版公测","status":0,"level":0,"followCnt":0,"collectCnt":0,"follow":false,"collect":false,"hotValue":0,"viewCnt":0,"announceCnt":0,"staffCnt":4,"isHot":0,"isTop":0,"cacheValid":false}],"channel":"","author":{"userId":1200057564,"name":"MIUI公告君","icon":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1569262061845","time":0,"identified":false,"pinnedBadgeIcon":""},"isAuthor":0,"isAdmin":0,"createTime":1574996443797,"extraStatus":"0","replied":0,"category":0,"opAccess":false,"btnAccess":false,"commentAccess":false,"childrenSize":0,"onlyVisibleBySelf":false,"hideStatus":0},{"id":"17858064","userId":1242122188,"type":3,"from":"","byFollower":-1,"deviceType":"Redmi K20 Pro","title":"","pic":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575095796410?f\u003dwebp","picList":[{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575095796410?f\u003dwebp","height":1846,"width":4000,"imgId":"vip1575095796410"}],"isRichText":true,"likeCnt":5,"dislikeCnt":0,"commentCnt":0,"viewCount":169,"isGood":0,"isTop":0,"isSticky":0,"like":0,"dislike":0,"topics":[{"topicId":"17825227","topicName":"你的桌面长啥样？","banner":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575018119783?f\u003dwebp","hotValue":0,"viewCnt":0,"status":0,"announceCnt":133,"source":0,"isHot":0,"isTop":0,"createTime":0,"updateTime":0}],"channel":"","imgList":[{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575095796410?f\u003dwebp","height":0,"width":0,"imgId":"vip1575095796410"}],"author":{"userId":1242122188,"name":"mi_7W2F8J","icon":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1569557212696","time":0,"identified":false,"pinnedBadgeIcon":"http://f4.market.mi-img.com/download/MiVip/0df45563f02b25f6a30f156c81f359812c742fe03"},"isAuthor":0,"isAdmin":0,"createTime":1575095796731,"extraStatus":"0","replied":0,"category":0,"opAccess":false,"btnAccess":false,"commentAccess":false,"childrenSize":0,"onlyVisibleBySelf":false,"hideStatus":0},{"id":"12","userId":0,"type":100,"byFollower":-1,"title":"","isRichText":true,"likeCnt":0,"dislikeCnt":0,"commentCnt":0,"viewCount":0,"isGood":0,"isTop":0,"isSticky":0,"like":0,"dislike":0,"isAuthor":0,"isAdmin":0,"createTime":0,"replied":0,"category":3,"detailList":[{"sortId":1,"subType":4,"hrefType":4,"img":"https://ts.market.mi-img.com/download/MiVip/0cdd6653b00c64458084492c5b1298c2c4f5670e1","forward":"https://web.vip.miui.com/page/info/mio/mio/topic?topicId\u003d17825227","startTime":1570534200000,"endTime":1577359800000,"status":1,"validate":0,"token":"话题-晒桌面"}],"opAccess":false,"btnAccess":false,"commentAccess":false,"childrenSize":0,"onlyVisibleBySelf":false,"hideStatus":0},{"id":"25","userId":0,"type":100,"byFollower":-1,"title":"","isRichText":true,"likeCnt":0,"dislikeCnt":0,"commentCnt":0,"viewCount":0,"isGood":0,"isTop":0,"isSticky":0,"like":0,"dislike":0,"isAuthor":0,"isAdmin":0,"createTime":0,"replied":0,"category":3,"detailList":[{"sortId":1,"subType":4,"hrefType":4,"img":"https://ts.market.mi-img.com/download/MiVip/08a7d510de00f29a8ca6997d5edeb263e1243f49d","forward":"https://web.vip.miui.com/page/info/mio/mio/topic?topicId\u003d17843049","startTime":1572850800000,"endTime":1576767600000,"status":1,"validate":0,"token":"冬日摄影"}],"opAccess":false,"btnAccess":false,"commentAccess":false,"childrenSize":0,"onlyVisibleBySelf":false,"hideStatus":0},{"id":"17835706","userId":281226335,"type":4,"from":"cms","byFollower":-1,"deviceType":"","title":"因为梦着你的梦，所以快乐着你的快乐","pic":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575000569414?f\u003dwebp","picList":[],"isRichText":true,"likeCnt":34,"dislikeCnt":0,"commentCnt":1,"viewCount":198,"isGood":0,"isTop":0,"isSticky":0,"like":0,"dislike":0,"topics":[{"topicId":"17788010","topicName":"小米家宴","banner":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574755645499?f\u003dwebp","hotValue":0,"viewCnt":0,"status":0,"announceCnt":1267,"source":0,"isHot":0,"isTop":0,"createTime":0,"updateTime":0}],"boards":[{"boardId":"5462662","boardName":"小米社区","status":0,"level":0,"followCnt":0,"collectCnt":0,"follow":false,"collect":false,"hotValue":0,"viewCnt":0,"announceCnt":0,"staffCnt":41,"isHot":0,"isTop":0,"cacheValid":false}],"channel":"cms","author":{"userId":281226335,"name":"粜米同學","icon":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1573820877984","time":0,"identified":false,"pinnedBadgeIcon":"http://cdn.fds.api.xiaomi.com/b2c-bbs/cn/resource/medal/5ca19fe05c677.png?_v\u003d1554096096"},"isAuthor":0,"isAdmin":0,"createTime":1575000658418,"extraStatus":"0","replied":0,"category":0,"opAccess":false,"btnAccess":true,"commentAccess":true,"childrenSize":0,"onlyVisibleBySelf":false,"hideStatus":0},{"id":"11","userId":0,"type":100,"byFollower":-1,"title":"热门话题","isRichText":true,"likeCnt":0,"dislikeCnt":0,"commentCnt":0,"viewCount":0,"isGood":0,"isTop":0,"isSticky":0,"like":0,"dislike":0,"isAuthor":0,"isAdmin":0,"createTime":0,"replied":0,"category":1,"detailList":[{"sortId":1,"subType":1,"subTitle":"旅行箱上的城市","hrefType":0,"img":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575023655624?f\u003dwebp","forward":"/mio/topic?topicId\u003d17852214","subDescriber":"秀出你的城市，赢限量小米旅行箱透明城市版","startTime":1558925820000,"endTime":1577458800000,"status":1,"validate":0,"token":"旅行箱"},{"sortId":3,"subType":1,"subTitle":"小米家宴","hrefType":0,"img":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574755645499?f\u003dwebp","forward":"/mio/topic?topicId\u003d17788010","subDescriber":"每天晒出你参与活动的截图，有机会赢米粉专属礼包哦！","startTime":1558925820000,"endTime":1576749600000,"status":1,"validate":0,"token":"小米家宴"},{"sortId":4,"subType":1,"subTitle":"我的智能厨房","hrefType":0,"img":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574749844372?f\u003dwebp","forward":"/mio/topic?topicId\u003d17820255","subDescriber":"晒出你的米家电饭煲 点赞最高送1台米家饭煲C1 3L","startTime":1574749800000,"endTime":1575473400000,"status":1,"validate":0,"token":"我的智能厨房"}],"opAccess":false,"btnAccess":false,"commentAccess":false,"childrenSize":0,"onlyVisibleBySelf":false,"hideStatus":0},{"id":"17831101","userId":1123558336,"type":4,"from":"","byFollower":-1,"deviceType":"PC端","title":"带你回家！小米家宴食用指南","pic":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574951645103?f\u003dwebp","picList":[{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574951645103?f\u003dwebp","height":0,"width":0},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574942120683?f\u003dwebp","height":2360,"width":3280},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574942393391?f\u003dwebp","height":2360,"width":2190},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574942968931?f\u003dwebp","height":438,"width":599},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574943348692?f\u003dwebp","height":2360,"width":4370},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574943802397?f\u003dwebp","height":187,"width":598},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574943925529?f\u003dwebp","height":2020,"width":4675},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574944568107?f\u003dwebp","height":2000,"width":923}],"cover":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574951645103?f\u003dwebp","isRichText":false,"likeCnt":29,"dislikeCnt":0,"commentCnt":4,"viewCount":796,"isGood":0,"isTop":0,"isSticky":0,"like":0,"dislike":0,"topics":[{"topicId":"17788010","topicName":"小米家宴","banner":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574755645499?f\u003dwebp","hotValue":0,"viewCnt":0,"status":0,"announceCnt":1267,"source":0,"isHot":0,"isTop":0,"createTime":0,"updateTime":0}],"boards":[{"boardId":"5462662","boardName":"小米社区","status":0,"level":0,"followCnt":0,"collectCnt":0,"follow":false,"collect":false,"hotValue":0,"viewCnt":0,"announceCnt":0,"staffCnt":41,"isHot":0,"isTop":0,"cacheValid":false}],"channel":"","author":{"userId":1123558336,"name":"明霁丶","icon":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1568760218532","time":0,"identified":false,"pinnedBadgeIcon":"http://f4.market.mi-img.com/download/MiVip/0320f95deed6141c7249e2180b24520a58b2ca671"},"isAuthor":0,"isAdmin":0,"createTime":1574952171171,"extraStatus":"0","replied":0,"category":0,"opAccess":false,"btnAccess":true,"commentAccess":true,"childrenSize":0,"onlyVisibleBySelf":false,"hideStatus":0},{"id":"17853320","userId":1486600832,"type":3,"from":"","byFollower":-1,"deviceType":"小米9","title":"","pic":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094910184?f\u003dwebp","picList":[{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094910184?f\u003dwebp","height":4000,"width":2250,"imgId":"vip1575094910184"},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094914229?f\u003dwebp","height":1500,"width":2000,"imgId":"vip1575094914229"},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094919321?f\u003dwebp","height":2598,"width":1561,"imgId":"vip1575094919321"},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094927478?f\u003dwebp","height":1655,"width":3914,"imgId":"vip1575094927478"},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094932025?f\u003dwebp","height":1500,"width":2000,"imgId":"vip1575094932025"},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094936257?f\u003dwebp","height":2250,"width":4000,"imgId":"vip1575094936257"},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094939509?f\u003dwebp","height":3000,"width":4000,"imgId":"vip1575094939509"},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094943413?f\u003dwebp","height":1500,"width":2000,"imgId":"vip1575094943413"},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094947101?f\u003dwebp","height":3222,"width":2930,"imgId":"vip1575094947101"}],"isRichText":true,"likeCnt":8,"dislikeCnt":0,"commentCnt":1,"viewCount":121,"isGood":0,"isTop":0,"isSticky":0,"like":0,"dislike":0,"topics":[{"topicId":"17843049","topicName":"拍出冬日光影","banner":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574934152638?f\u003dwebp","hotValue":0,"viewCnt":0,"status":0,"announceCnt":135,"source":0,"isHot":0,"isTop":0,"createTime":0,"updateTime":0}],"channel":"","imgList":[{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094910184?f\u003dwebp","height":0,"width":0,"imgId":"vip1575094910184"},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094914229?f\u003dwebp","height":0,"width":0,"imgId":"vip1575094914229"},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094919321?f\u003dwebp","height":0,"width":0,"imgId":"vip1575094919321"},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094927478?f\u003dwebp","height":0,"width":0,"imgId":"vip1575094927478"},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094932025?f\u003dwebp","height":0,"width":0,"imgId":"vip1575094932025"},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094936257?f\u003dwebp","height":0,"width":0,"imgId":"vip1575094936257"},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094939509?f\u003dwebp","height":0,"width":0,"imgId":"vip1575094939509"},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094943413?f\u003dwebp","height":0,"width":0,"imgId":"vip1575094943413"},{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575094947101?f\u003dwebp","height":0,"width":0,"imgId":"vip1575094947101"}],"author":{"userId":1486600832,"name":"Mi_1486600832","icon":"","time":0,"identified":false,"pinnedBadgeIcon":""},"isAuthor":0,"isAdmin":0,"createTime":1575094947846,"extraStatus":"0","replied":0,"category":0,"opAccess":false,"btnAccess":false,"commentAccess":false,"childrenSize":0,"onlyVisibleBySelf":false,"hideStatus":0},{"id":"17837061","userId":45428057,"type":3,"from":"","byFollower":-1,"deviceType":"小米6","title":"","pic":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575014321715?f\u003dwebp","picList":[{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575014321715?f\u003dwebp","height":4032,"width":3016,"imgId":"vip1575014321715"}],"isRichText":true,"likeCnt":56,"dislikeCnt":0,"commentCnt":53,"viewCount":8632,"isGood":0,"isTop":0,"isSticky":0,"like":0,"dislike":0,"boards":[{"boardId":"558295","boardName":"小米手表圈","status":0,"level":0,"followCnt":0,"collectCnt":0,"follow":false,"collect":false,"hotValue":0,"viewCnt":0,"announceCnt":0,"staffCnt":11,"isHot":0,"isTop":0,"cacheValid":false}],"channel":"","imgList":[{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575014321715?f\u003dwebp","height":0,"width":0,"imgId":"vip1575014321715"}],"author":{"userId":45428057,"name":"Mi_45428057","icon":"","time":0,"identified":false,"pinnedBadgeIcon":""},"isAuthor":0,"isAdmin":0,"createTime":1575014322278,"extraStatus":"0","replied":1,"category":0,"commentList":[{"commentId":"7c:17837061:9223370461827354741:5504","text":"esim卡，这个表达你没开通esim卡","author":{"userId":26792787,"name":"Mi_匡","icon":"http://cdn.fds.api.xiaomi.com/b2c-bbs/cn/26792787/avatar.jpg?_v\u003d1441544048","time":0,"identified":false,"pinnedBadgeIcon":"http://f4.market.mi-img.com/download/MiVip/0e389f4e2ec7f49ab2eee2ad2d2de8d114be8505b"},"userId":26792787,"subjectId":"17837061","supportNum":17,"time":1575027421066,"support":false,"ownComment":false,"isAdmin":0,"top":false,"feature":true,"count":0,"sourceUserId":0,"sorted":false}],"opAccess":false,"btnAccess":false,"commentAccess":false,"childrenSize":0,"onlyVisibleBySelf":false,"hideStatus":0},{"id":"17851869","userId":81438540,"type":3,"from":"","byFollower":-1,"deviceType":"小米MIX 3","title":"","pic":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575025080597?f\u003dwebp","picList":[{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575025080597?f\u003dwebp","height":2340,"width":1080,"imgId":"vip1575025080597"}],"isRichText":true,"likeCnt":59,"dislikeCnt":0,"commentCnt":47,"viewCount":5303,"isGood":0,"isTop":0,"isSticky":0,"like":0,"dislike":0,"topics":[{"topicId":"17729722","topicName":"我的万象息屏太美了","banner":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1574072279440?f\u003dwebp","hotValue":0,"viewCnt":0,"status":0,"announceCnt":206,"source":0,"isHot":0,"isTop":0,"createTime":0,"updateTime":0}],"boards":[{"boardId":"5587814","boardName":"小米MIX3","status":0,"level":0,"followCnt":0,"collectCnt":0,"follow":false,"collect":false,"hotValue":0,"viewCnt":0,"announceCnt":0,"staffCnt":0,"isHot":0,"isTop":0,"cacheValid":false}],"channel":"","imgList":[{"imageUrl":"https://cdn.cnbj1.fds.api.mi-img.com/middle.community.vip.bkt/vip1575025080597?f\u003dwebp","height":0,"width":0,"imgId":"vip1575025080597"}],"author":{"userId":81438540,"name":"hx04615","icon":"http://cdn.fds.api.xiaomi.com/b2c-bbs/cn/81438540/avatar.jpg?_v\u003d1483401824","time":0,"identified":false,"pinnedBadgeIcon":"http://f4.market.mi-img.com/download/MiVip/0df45563f02b25f6a20f196c81f359812f742fe03"},"isAuthor":0,"isAdmin":0,"createTime":1575025081023,"extraStatus":"0","replied":0,"category":0,"opAccess":false,"btnAccess":false,"commentAccess":false,"childrenSize":0,"onlyVisibleBySelf":false,"hideStatus":0}]';

class Detail {
  String img;

  bool hasImg() {
    return img != null;
  }

  Detail.fromJson(Map<String, dynamic> jsonMap) {
    img = jsonMap['img'];
  }

  Map<String, dynamic> toJson() => <String, dynamic>{'img': img};
}

class Post {
  String deviceType;
  String title;
  String pic;
  int likeCnt;
  int commentCnt;
  int viewCount;
  Author author;
  List<Detail> detailList;

  bool hasAuthor() {
    return author != null && author.name != null;
  }

  bool hasTitle() {
    return title != null && title.isNotEmpty;
  }

  Post.fromJson(Map<String, dynamic> jsonMap) {
    deviceType = jsonMap['deviceType'];
    title = jsonMap['title'];
    pic = jsonMap['pic'];
    likeCnt = jsonMap['likeCnt'];
    commentCnt = jsonMap['commentCnt'];
    viewCount = jsonMap['viewCount'];
    author = Author.fromJson(jsonMap['author']);
    List detailJson = jsonMap['detailList'];
    if (detailJson != null && detailJson.isNotEmpty) {
      detailList = detailJson.map((m) => Detail.fromJson(m)).toList();
    }
  }

  Map<String, dynamic> toJson() => <String, dynamic>{
        'deviceType': deviceType,
        'title': title,
        'pic': pic,
        'likeCnt': likeCnt,
        'commentCnt': commentCnt,
        'viewCount': viewCount
      };
}

class Author {
  int userId;
  String name;
  String icon;

  bool hasIcon() {
    return icon != null && icon.isNotEmpty;
  }

  Author.fromJson(Map<String, dynamic> json) {
    if (json != null && json.isNotEmpty) {
      userId = json['userId'];
      name = json['name'];
      icon = json['icon'];
    }
  }

  Map<String, dynamic> toJson() =>
      <String, dynamic>{'userId': userId, 'name': name, 'icon': icon};
}

class DataParser {
  static List<Post> getFirstPagePosts() {
    List jsonList = json.decode(FIRST_PAGE_JSON);
    return jsonList.map((m) => Post.fromJson(m)).toList();
  }
}
